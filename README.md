# QuestChain Masternode Setup Guide

## Initial Setup:
### Generate New Addresses
Use the `getnewaddress` command in your QuestChain wallet console to generate new addresses for various purposes:
- **CollateralAddress**: Send exactly 1,000,000 QCH to this address. This will be locked as collateral.
- **OwnerKeyAddress**: Must be new and unused. Can also be used as the VotingKeyAddress.
- **VotingKeyAddress**: Can be the same as the OwnerKeyAddress, but must not be the CollateralAddress.
- **PayoutAddress**: Where masternode rewards are sent. It can also be the same as CollateralAddress.
- **FeeSourceAddress**: Should have sufficient funds to cover transaction fees for the protx transactions. It is advisable not to use the CollateralAddress for this purpose.
![getnewaddress](https://github.com/LootChain/masternode/assets/165670633/8c08e066-77a3-46b8-8f4b-77ff6830a824)

### Generate Public Key
Use the `bls generate` command to generate a BLS public key which is required for the masternode setup.
![bls](https://github.com/LootChain/masternode/assets/165670633/1bdb632a-6625-4ea5-b05f-8cfe057f0f8b)

### Register Your Masternode
Use the `protx register_prepare` command followed by the necessary parameters:
- **collateralHash**: The TXID of the 1,000,000 QCH collateral funding transaction.
- **collateralIndex**: The output index of the funding transaction (either 0 or 1).
- **ipAndPort**: Your masternode's IP address and port. Format for IPv4: `x.x.x.x:25986`, for IPv6: `[x:x:x:x:x:x:x:x]:25986`.
- **ownerKeyAddr**: The new QCH address generated above for the owner/voting address.
- **operatorPubKey**: The BLS public key generated from the `bls generate` command.
- **votingKeyAddr**: The new QCH address generated above or the address of a delegate, used for proposal voting.
- **operatorReward**: Usually set to "0" as you might want 100% of the reward going to the owner.
- **payoutAddress**: A new or existing QCH address to receive the ownerâ€™s masternode rewards.
- **feeSourceAddress**: An address used to fund the ProTx fee.
![registei](https://github.com/LootChain/masternode/assets/165670633/398ff9f4-9b62-40a4-bb1b-8b125f333e2c)
### Sign the Transaction
After preparing the ProRegTx transaction:
1. **Command**: `signmessage`
2. **Parameters**:
   - **collateralAddress**: The address where the collateral is locked.
   - **message**: The message generated by `protx register_prepare`.


Example:
signmessage <CollateralAddress> "<message from protx register_prepare output>"
his will produce a signature that you will use in the next step.

Submit the Transaction
To submit the signed transaction to the network:

Command: protx register_submit
Parameters:
tx: The raw transaction string obtained from the protx register_prepare command.
sig: The signature obtained from the signmessage command.
protx register_submit <tx from register_prepare> <sig from signmessage>
![sign](https://github.com/LootChain/masternode/assets/165670633/0690621d-21bb-49ec-aab4-5a724cb0e77f)

This submits your masternode registration to the blockchain, completing the setup process.

Maintenance and Monitoring
Regularly check your masternode status in the QuestChain wallet under the Masternodes tab.
Address any issues indicated by an increasing PoSe Score (Proof of Service Score) to avoid disruptions in service.

Updates
If moving the node to a different VPS or changing IP addresses, use protx update_service to update the node details on the blockchain.


This comprehensive guide in Markdown format should be helpful for users looking to set up a QuestChain masternode, providing clear instructions and examples.
